<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        .guessNum {
            width:680px;
            margin: auto;
        }
        form {
            width: 308px;
            height: 40px;
            padding: 5px;
            font-size: 30px;
            background-color: #faa;
            border: #999 solid 1px;
            border-radius: 3px;
            margin: 10px 0;
            text-align: center;
        }
        input{
            margin: auto;
            font-size: 30px;
        }
        button{
            font-size: 30px;
        }
    </style>

</head>

<body>
    <div class="guessNum">
        <input type="text" name="input-num" size="13px" placeholder="在此輸入數字" >
        <button class="submit">GO</button>
        <form action="">
            <output>範圍1-100</output>
        </form>
        <div class="btn">
            <button class="gameover">偷看答案</button>
            <button class="reset">重來</button>
            <button class="haha">我不玩了</button>
        </div>
    </div>

    <script>

        let ansNum = Math.round(Math.random() * 100)+1;
        // document.write("產生隨機亂數 = ansNum: " +ansNum) 
        // 解除上行註解可以show答案在html上
        
        //取得需要的DOM
        let myInput = document.querySelector('input')
        let submit = document.querySelector('.submit')
        let myOutput = document.querySelector('output')
        let gameOver = document.querySelector('.gameover')
        let reset = document.querySelector('.reset')
        let haha = document.querySelector('.haha')
        let nMin = 1;
        let nMax = 100;

        //用console.log確認型別
        console.log(typeof ansNum)
        console.log(typeof nMin)
        console.log(typeof nMax)

        //用console.log確認有沒有正確抓到
        console.log(myInput)
        console.log(submit)
        console.log(myOutput)
        console.log(gameOver)
        console.log(reset)
        console.log(haha)

        //輸入後點GO button可以判斷
        submit.addEventListener("click", adjustment);

        //輸入後按enter可以判斷
        myInput.addEventListener("keydown", function (e) {
            if( e.keyCode === 13 ){
                adjustment();
            }
        })
        
        gameOver.addEventListener("click", function () {
            myOutput.innerText = ansNum;
        })
        reset.addEventListener("click", function () {
            window.location.reload();
        })
        haha.addEventListener("click", function () {
            myOutput.innerText = "弱";
        })

        function adjustment(){
            let guessNum = parseInt(myInput.value);

            if (guessNum == ansNum) {
                myOutput.innerText = "猜中了 " + ansNum;
                submit.disabled = true;
                myInput.disabled = true;
                gameOver.disabled = true;
                haha.disabled = true;

            }
            
            while(guessNum != ansNum) {
                
                if (guessNum < nMin || guessNum > nMax ) {
                    myOutput.innerText = "超出範圍"+ nMin + "-" + nMax;
                    myInput.value = ``;
                }
                else if (guessNum > ansNum) {
                    myOutput.innerText = nMin + "-" + guessNum;
                    nMax = guessNum;
                    myInput.value = ``;
                }
                else if (guessNum < ansNum) {
                    myOutput.innerText = guessNum + "-" + nMax;
                    nMin = guessNum
                    myInput.value = ``;
                }
                
                //如何判斷input內為空字串??
                // else if (guessNum = 'null'){
                //     myOutput.innerText = "你沒輸入"
                //     myInput.value = ``;
                // }
                else {
                    myOutput.innerText = "請輸入數字" ;
                    myInput.value = ``;
                }
                break;
            }
        }
            
    </script>

</body>

</html>